/*!
 * vue-location-picker v1.0.1
 * (c) 2016-present Pantelis Peslis <pespantelis@gmail.com>
 * Released under the MIT License.
 */
!function(o,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):o.VueLocationPicker=t()}(this,function(){"use strict";return{render:function(){var o=this.$createElement,t=this._self._c||o;return t("div",{staticClass:"LocationPicker"},[t("div",{ref:"map",staticClass:"LocationPicker__map"}),this._v(" "),t("input",{ref:"input",staticClass:"LocationPicker__autocomplete",attrs:{type:"text"}}),this._v(" "),t("info-window",{ref:"info",staticClass:"LocationPicker__info-window"})],1)},staticRenderFns:[],_scopeId:"data-v-9fada148",props:["value","config","options"],data:function(){return{geocoder:null,map:null,marker:null,infoWindow:null,autocomplete:null}},components:{InfoWindow:{render:function(){var o=this,t=o.$createElement,e=o._self._c||t;return e("div",[e("strong",[o._v(o._s(o.title))]),o._v(" "),o._l(o.body,function(t){return e("p",[o._v(o._s(t))])})],2)},staticRenderFns:[],_scopeId:"data-v-3dd7c812",data:function(){return{title:"Instructions",body:["Click and drag this marker to pick your location."]}},methods:{showAddress:function(o){this.title="My address",this.body=o.formatted_address.split(",").map(function(o){return o.trim()})},showError:function(){this.title="Oups",this.body=["Google Maps could not determine the approximate postal address of this location."]}}}},mounted:function(){var o=this;if(this.config.key){this.config.libraries="places",this.config.callback="initLocationPicker",global.initLocationPicker=function(){o.bootstrap(o.options||{})};var t=Object.keys(this.config).map(function(t){return"".concat(encodeURIComponent(t),"=").concat(encodeURIComponent(o.config[t]))}),e="".concat("https://maps.googleapis.com/maps/api/js","?").concat(t.join("&")),n=document.createElement("script");n.src=e,n.async=!0,n.defer=!0,document.body.appendChild(n)}else console.error("[Vue Location Picker warn]: You should give a Google Maps API key")},methods:{bootstrap:function(){this.geocoder=new google.maps.Geocoder,this.map=new google.maps.Map(this.$refs.map,Object.assign({center:{lat:0,lng:0},zoom:3,disableDefaultUI:!0},options.map)),this.marker=new google.maps.Marker(Object.assign({map:this.map,position:this.map.getCenter(),draggable:!0},options.marker)),this.infoWindow=new google.maps.InfoWindow(Object.assign({content:this.$refs.info.$el},options.infoWindow)),this.autocomplete=new google.maps.places.Autocomplete(this.$refs.input,Object.assign({types:["geocode"]},options.autocomplete)),this.map.controls[google.maps.ControlPosition.TOP_LEFT].push(this.$refs.input),google.maps.event.addListenerOnce(this.map,"idle",this.openInfoWindow),this.marker.addListener("dragstart",this.closeInfoWindow),this.marker.addListener("dragend",this.geocodeLocation),this.autocomplete.addListener("place_changed",this.moveMarker)},openInfoWindow:function(){this.infoWindow.open(this.map,this.marker)},closeInfoWindow:function(){this.infoWindow.close()},geocodeLocation:function(o){var t=this;this.map.panTo(o.latLng),this.$els.input.value="",this.geocoder.geocode({latLng:o.latLng},function(o){o&&o.length>0?(t.place=o[0],t.$refs.info.showAddress(t.place)):(t.place=null,t.$refs.info.showError()),t.openInfoWindow()})},moveMarker:function(){var o=this.autocomplete.getPlace(),t=o.geometry&&o.geometry.location;t&&(this.place=o,this.map.panTo(t),this.marker.setPosition(t),this.$refs.info.showAddress(o))}}}});
//# sourceMappingURL=vue-location-picker.min.js.map
