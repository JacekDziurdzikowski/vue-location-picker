/*!
 * vue-location-picker v1.0.1
 * (c) 2018-present Pantelis Peslis <pespantelis@gmail.com>
 * Released under the MIT License.
 */
!function(t,o){"object"==typeof exports&&"undefined"!=typeof module?module.exports=o():"function"==typeof define&&define.amd?define(o):t.VueLocationPicker=o()}(this,function(){"use strict";return{render:function(){var t=this,o=t.$createElement,e=t._self._c||o;return e("div",{staticClass:"LocationPicker"},[e("div",{ref:"map",staticClass:"LocationPicker__map"}),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.input,expression:"input"}],ref:"input",staticClass:"LocationPicker__autocomplete",attrs:{type:"text"},domProps:{value:t.input},on:{input:function(o){o.target.composing||(t.input=o.target.value)}}}),t._v(" "),e("info-window",{ref:"info",staticClass:"LocationPicker__info-window"})],1)},staticRenderFns:[],props:["value","config","options"],data:function(){return{geocoder:null,map:null,marker:null,infoWindow:null,autocomplete:null,input:""}},components:{InfoWindow:{render:function(){var t=this,o=t.$createElement,e=t._self._c||o;return e("div",[e("strong",[t._v(t._s(t.title))]),t._v(" "),t._l(t.body,function(o){return e("p",[t._v(t._s(o))])})],2)},staticRenderFns:[],_scopeId:"data-v-3dd7c812",data:function(){return{title:"Instructions",body:["Click and drag this marker to pick your location."]}},methods:{showAddress:function(t){this.title="My address",this.body=t.formatted_address.split(",").map(function(t){return t.trim()})},showError:function(){this.title="Oups",this.body=["Google Maps could not determine the approximate postal address of this location."]}}}},mounted:function(){var t=this;if(this.config.key){this.config.libraries="places",this.config.callback="initLocationPicker",global.initLocationPicker=function(){t.bootstrap(t.options||{})};var o=Object.keys(this.config).map(function(o){return"".concat(encodeURIComponent(o),"=").concat(encodeURIComponent(t.config[o]))}),e="".concat("https://maps.googleapis.com/maps/api/js","?").concat(o.join("&")),n=document.createElement("script");n.src=e,n.async=!0,n.defer=!0,document.body.appendChild(n)}else console.error("[Vue Location Picker warn]: You should give a Google Maps API key")},methods:{bootstrap:function(t){this.geocoder=new google.maps.Geocoder,this.map=new google.maps.Map(this.$refs.map,Object.assign({center:{lat:0,lng:0},zoom:3,disableDefaultUI:!0},t.map)),this.marker=new google.maps.Marker(Object.assign({map:this.map,position:this.map.getCenter(),draggable:!0},t.marker)),this.infoWindow=new google.maps.InfoWindow(Object.assign({content:this.$refs.info.$el},t.infoWindow)),this.autocomplete=new google.maps.places.Autocomplete(this.$refs.input,Object.assign({types:["geocode"]},t.autocomplete)),this.map.controls[google.maps.ControlPosition.TOP_LEFT].push(this.$refs.input),google.maps.event.addListenerOnce(this.map,"idle",this.openInfoWindow),this.marker.addListener("dragstart",this.closeInfoWindow),this.marker.addListener("dragend",this.geocodeLocation),this.autocomplete.addListener("place_changed",this.moveMarker)},openInfoWindow:function(){this.infoWindow.open(this.map,this.marker)},closeInfoWindow:function(){this.infoWindow.close()},geocodeLocation:function(t){var o=this;this.map.panTo(t.latLng),this.input="",this.geocoder.geocode({latLng:t.latLng},function(t){t&&t.length>0?(o.$emit("input",t[0]),o.$refs.info.showAddress(t[0])):(o.$emit("input",null),o.$refs.info.showError()),o.openInfoWindow()})},moveMarker:function(){var t=this.autocomplete.getPlace(),o=t.geometry&&t.geometry.location;o&&(this.$emit("input",t),this.map.panTo(o),this.marker.setPosition(o),this.$refs.info.showAddress(t))}}}});
//# sourceMappingURL=vue-location-picker.min.js.map
